diff -ur /Users/sam/source/telesphoreo/telesphoreo-git/data/aptitude/aptitude-0.8.10+iPhone/src/generic/apt/config_file.cc ./src/generic/apt/config_file.cc
--- /Users/sam/source/telesphoreo/telesphoreo-git/data/aptitude/aptitude-0.8.10+iPhone/src/generic/apt/config_file.cc	2017-08-19 07:59:07.000000000 -1000
+++ ./src/generic/apt/config_file.cc	2018-08-31 10:16:44.000000000 -1000
@@ -32,7 +32,7 @@
 #include <sstream>
 #include <streambuf>
 
-#include <error.h>
+#include <mach/error.h>
 #include <sys/stat.h>
 
 
diff -ur /Users/sam/source/telesphoreo/telesphoreo-git/data/aptitude/aptitude-0.8.10+iPhone/src/generic/problemresolver/problemresolver.h ./src/generic/problemresolver/problemresolver.h
--- /Users/sam/source/telesphoreo/telesphoreo-git/data/aptitude/aptitude-0.8.10+iPhone/src/generic/problemresolver/problemresolver.h	2017-08-19 07:59:07.000000000 -1000
+++ ./src/generic/problemresolver/problemresolver.h	2018-08-31 10:14:01.000000000 -1000
@@ -1705,11 +1704,12 @@
   {
     generic_problem_resolver &resolver;
     const promotion &p;
+		search_graph graph;
 
   public:
     do_process_promotion(generic_problem_resolver &_resolver,
-			 const promotion &_p)
-      : resolver(_resolver), p(_p)
+			 const promotion &_p, search_graph _graph)
+      : resolver(_resolver), p(_p), graph(_graph)
     {
     }
 
diff -ur aptitude-0.8.10/src/cmdline/cmdline_prompt.cc aptitude-0.8.10+iPhone/src/cmdline/cmdline_prompt.cc
--- aptitude-0.8.10/src/cmdline/cmdline_prompt.cc	2017-08-19 07:59:07.000000000 -1000
+++ aptitude-0.8.10+iPhone/src/cmdline/cmdline_prompt.cc	2018-08-31 15:02:33.000000000 -1000
@@ -45,6 +45,7 @@
 #include <generic/util/util.h>
 
 // System includes:
+#include <rpmatch.h>
 #include <apt-pkg/algorithms.h>
 #include <apt-pkg/error.h>
 #include <apt-pkg/strutl.h>
diff -ur aptitude-0.8.10/src/generic/problemresolver/Makefile.am aptitude-0.8.10+iPhone/src/generic/problemresolver/Makefile.am
--- aptitude-0.8.10/src/generic/problemresolver/Makefile.am	2017-08-19 07:59:07.000000000 -1000
+++ aptitude-0.8.10+iPhone/src/generic/problemresolver/Makefile.am	2018-08-31 15:04:07.000000000 -1000
@@ -6,7 +6,7 @@
 
 noinst_PROGRAMS=test
 
-test_LDADD = $(top_builddir)/src/generic/util/libgeneric-util.a libgeneric-problemresolver.a
+test_LDADD = $(top_builddir)/src/generic/util/libgeneric-util.a libgeneric-problemresolver.a $(LIBINTL)
 
 libgeneric_problemresolver_a_SOURCES = \
 	choice.h choice_indexed_map.h choice_set.h \
diff -ur aptitude-0.8.10/src/generic/problemresolver/Makefile.in aptitude-0.8.10+iPhone/src/generic/problemresolver/Makefile.in
--- aptitude-0.8.10/src/generic/problemresolver/Makefile.in	2017-11-14 14:18:49.000000000 -1000
+++ aptitude-0.8.10+iPhone/src/generic/problemresolver/Makefile.in	2018-08-31 15:03:38.000000000 -1000
@@ -352,7 +352,7 @@
 AM_CPPFLAGS = -I$(top_builddir) -I$(srcdir) -I$(top_srcdir) -I$(top_srcdir)/src
 EXTRA_DIST = model.tex test1.txt test3.txt test4.txt resolver_undo.h
 noinst_LIBRARIES = libgeneric-problemresolver.a
-test_LDADD = $(top_builddir)/src/generic/util/libgeneric-util.a libgeneric-problemresolver.a
+test_LDADD = $(top_builddir)/src/generic/util/libgeneric-util.a libgeneric-problemresolver.a -lintl
 libgeneric_problemresolver_a_SOURCES = \
 	choice.h choice_indexed_map.h choice_set.h \
 	cost.cc cost.h \
